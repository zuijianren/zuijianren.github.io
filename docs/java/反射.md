# 反射

## 基恩概念

框架设计的灵魂

## 简单使用

### 获取 Class 对象

> 提示:
> 同一个字节码文件(*.class)在一次程序的运行过程中，只会被加载一次，无论通过哪一种方式获取到的class对象都是同一个

* `Class.forName("全类名")`
    > 多用于配置文件, 将类名定义在配置文件中, 读取文件, 加载类
* `类名.Class`
    > 多用于参数的传递
* `对象.getClass()`
    > 多用于对象的获取字节码的方式

### 获取成员变量

* 获取成员变量
  * `Field[] getFields()` 获取所有public修饰的成员变量
  * `Field getField(String name)` 获取指定的public修饰的成员变量
  * `Field[] getDeclaredFields()` 获取所有的成员变量
  * `Field getDeclaredField(String name)` 获取指定的成员变量

* 设置值
    `set(Object obj, Object obj)`

* 获取值
    `get(Object obj)`

* 忽略访问权限修饰符的安全检查
    `setAccessible(true)`
    > 暴力反射(当访问private对象时，不写该语句会报错，无法访问)

## 进阶

### `getDeclaredMethods()` 和 `getMethods()` 的区别

* `getDeclaredMethods()`
  获取的是**类自身声明的所有方法**，包含 public、protected 和 private方法。

* `getMethods()`
  获取的是**类的所有公有方法**，这就包括自身的所有 public 方法，和从基类继承的、从接口实现的所有 public 方法。
